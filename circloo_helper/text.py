from .pixel_builder import build as _build

_CHARACTERS = {

    '0':    [[1, 1, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 1, 1]],

    '1':    [[1, 1, 0],
             [0, 1, 0],
             [0, 1, 0],
             [0, 1, 0],
             [1, 1, 1]],

    '2':    [[1, 1, 1],
             [0, 0, 1],
             [1, 1, 1],
             [1, 0, 0],
             [1, 1, 1]],

    '3':    [[1, 1, 1],
             [0, 0, 1],
             [1, 1, 1],
             [0, 0, 1],
             [1, 1, 1]],

    '4':    [[1, 0, 1],
             [1, 0, 1],
             [1, 1, 1],
             [0, 0, 1],
             [0, 0, 1]],

    '5':    [[1, 1, 1],
             [1, 0, 0],
             [1, 1, 1],
             [0, 0, 1],
             [1, 1, 1]],

    '6':    [[1, 1, 1],
             [1, 0, 0],
             [1, 1, 1],
             [1, 0, 1],
             [1, 1, 1]],

    '7':    [[1, 1, 1],
             [0, 0, 1],
             [0, 0, 1],
             [0, 0, 1],
             [0, 0, 1]],

    '8':    [[1, 1, 1],
             [1, 0, 1],
             [1, 1, 1],
             [1, 0, 1],
             [1, 1, 1]],

    '9':    [[1, 1, 1],
             [1, 0, 1],
             [1, 1, 1],
             [0, 0, 1],
             [1, 1, 1]],

    'A':    [[1, 1, 1],
             [1, 0, 1],
             [1, 1, 1],
             [1, 0, 1],
             [1, 0, 1]],

    'B':    [[1, 1, 1],
             [1, 0, 1],
             [1, 1, 0],
             [1, 0, 1],
             [1, 1, 1]],

    'C':    [[1, 1, 1],
             [1, 0, 0],
             [1, 0, 0],
             [1, 0, 0],
             [1, 1, 1]],

    'D':    [[1, 1, 0],
             [1, 0, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 1, 0]],

    'E':    [[1, 1, 1],
             [1, 0, 0],
             [1, 1, 1],
             [1, 0, 0],
             [1, 1, 1]],

    'F':    [[1, 1, 1],
             [1, 0, 0],
             [1, 1, 1],
             [1, 0, 0],
             [1, 0, 0]],

    'G':    [[1, 1, 1],
             [1, 0, 0],
             [1, 0, 1],
             [1, 0, 1],
             [1, 1, 1]],

    'H':    [[1, 0, 1],
             [1, 0, 1],
             [1, 1, 1],
             [1, 0, 1],
             [1, 0, 1]],

    'I':    [[1, 1, 1],
             [0, 1, 0],
             [0, 1, 0],
             [0, 1, 0],
             [1, 1, 1]],

    'J':    [[1, 1, 1],
             [0, 1, 0],
             [0, 1, 0],
             [0, 1, 0],
             [1, 1, 0]],

    'K':    [[1, 0, 1],
             [1, 0, 1],
             [1, 1, 0],
             [1, 0, 1],
             [1, 0, 1]],

    'L':    [[1, 0, 0],
             [1, 0, 0],
             [1, 0, 0],
             [1, 0, 0],
             [1, 1, 1]],

    'M':    [[1, 0, 1],
             [1, 1, 1],
             [1, 1, 1],
             [1, 0, 1],
             [1, 0, 1]],

    'N':    [[1, 1, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 0, 1]],

    'O':    [[1, 1, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 1, 1]],

    'P':    [[1, 1, 1],
             [1, 0, 1],
             [1, 1, 1],
             [1, 0, 0],
             [1, 0, 0]],

    'Q':    [[1, 1, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 1, 1],
             [0, 0, 1]],

    'R':    [[1, 1, 1],
             [1, 0, 1],
             [1, 1, 0],
             [1, 0, 1],
             [1, 0, 1]],

    'S':    [[1, 1, 1],
             [1, 0, 0],
             [1, 1, 1],
             [0, 0, 1],
             [1, 1, 1]],

    'T':    [[1, 1, 1],
             [0, 1, 0],
             [0, 1, 0],
             [0, 1, 0],
             [0, 1, 0]],

    'U':    [[1, 0, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 1, 1]],

    'V':    [[1, 0, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 0, 1],
             [0, 1, 0]],

    'W':    [[1, 0, 1],
             [1, 0, 1],
             [1, 0, 1],
             [1, 1, 1],
             [1, 0, 1]],

    'X':    [[1, 0, 1],
             [1, 0, 1],
             [0, 1, 0],
             [1, 0, 1],
             [1, 0, 1]],

    'Y':    [[1, 0, 1],
             [1, 0, 1],
             [1, 1, 1],
             [0, 1, 0],
             [0, 1, 0]],

    'Z':    [[1, 1, 1],
             [0, 0, 1],
             [0, 1, 0],
             [1, 0, 0],
             [1, 1, 1]],

    ' ':    [[0, 0, 0],
             [0, 0, 0],
             [0, 0, 0],
             [0, 0, 0],
             [0, 0, 0]],

    '-':    [[0, 0, 0],
             [0, 0, 0],
             [1, 1, 1],
             [0, 0, 0],
             [0, 0, 0]],

    '.':    [[0, 0],
             [0, 0],
             [0, 0],
             [0, 0],
             [1, 0]],

    ',':    [[0, 0],
             [0, 0],
             [0, 0],
             [0, 0],
             [1, 0],
             [1, 0]],

    '?':    [[1, 1, 1],
             [0, 0, 1],
             [0, 1, 1],
             [0, 0, 0],
             [0, 1, 0]],

    '!':    [[1, 0],
             [1, 0],
             [1, 0],
             [0, 0],
             [1, 0]],

    '/':    [[0, 0, 1],
             [0, 1, 0],
             [0, 1, 0],
             [0, 1, 0],
             [1, 0, 0]],

    '&':    [[0, 1, 1, 0],
             [1, 0, 0, 0],
             [0, 1, 1, 0],
             [1, 0, 0, 1],
             [0, 1, 1, 1]],

    '+':    [[0, 0, 0],
             [0, 1, 0],
             [1, 1, 1],
             [0, 1, 0],
             [0, 0, 0]],

    '<':    [[0, 0, 1],
             [0, 1, 0],
             [1, 0, 0],
             [0, 1, 0],
             [0, 0, 1]],

    '>':    [[1, 0, 0],
             [0, 1, 0],
             [0, 0, 1],
             [0, 1, 0],
             [1, 0, 0]],

    'missing':  [[1, 1, 1],
                 [1, 1, 1],
                 [1, 1, 1],
                 [1, 1, 1],
                 [1, 1, 1]]
}


def write(text: str, start_x=1500, start_y=1500, size=1, spacing=8):
    """
    Convert sentence string into circloO objects
    :param text:    Sentence to be converted
    :param start_x: Initial x value (left)
    :param start_y: Initial y value (top)
    :param size:    Size of each pixel
    :param spacing: Space between each letter
    :return:    String of circloO objects (w/o header)
    """
    objs = []
    cur_x = start_x

    for char in text:

        if char.upper() in _CHARACTERS.keys():
            letter = _build(_CHARACTERS[char.upper()], cur_x, start_y, size)
            for obj in letter:
                objs.append(obj)

        else:
            # Character not found.
            letter = _build(_CHARACTERS['missing'], cur_x, start_y, size)
            for obj in letter:
                objs.append(obj)

        cur_x += size * spacing

    return objs
